<div class="taxes col-md-4">
    <h1>Taxes</h1>
    <table class="table">
        <tr>
            <td>Income after pre-tax:</td>
            <td colspan="2">{{incomeMinusPreTax | customCurrency}}</td>
        </tr>
        <tr>
            <td>Filing status:</td>
            <td colspan="2">
                <select [(ngModel)]="filingStatus">
                    <option *ngFor="let status of FilingStatusOptions" [value]="FilingStatusOptions.indexOf(status)">{{status}}</option>
                </select>
            </td>
        </tr>
        <tr>
            <td>Exemptions:</td>
            <td colspan="2">
                <input type="number" [(ngModel)]="exemptions" min="1" max="30" step="1" />
            </td>
        </tr>
        <tr>
            <td colspan="3">
                <tabs>
                    <tab tabTitle="Federal">
                        <table class="table">
                            <tr>
                                <td colspan="3">Deductions:</td>
                            </tr>
                            <tr *ngFor="let row of federalDeductions" class="form-group">
                                <td>
                                    <input type="text" class="form-control" [(ngModel)]="row[0]" />
                                </td>
                                <td>
                                    <input type="text" (blur)="row.amount=$event.target.value" class="form-control" [(ngModel)]="row[1]" customCurrencyFormatter />
                                </td>
                                <td>
                                    <button (click)="deleteDeductionOrCreditRow(federalDeductions, row)">Delete Row</button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <button (click)="addDeductionOrCreditRow(federalDeductions)">Add Row</button>
                                </td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td colspan="3">Credits:</td>
                            </tr>
                            <tr *ngFor="let row of federalCredits" class="form-group">
                                <td>
                                    <input type="text" class="form-control" [(ngModel)]="row[0]" />
                                </td>
                                <td>
                                    <input type="text" (blur)="row.amount=$event.target.value" class="form-control" [(ngModel)]="row[1]" customCurrencyFormatter />
                                </td>
                                <td>
                                    <button (click)="deleteDeductionOrCreditRow(federalCredits, row)">Delete Row</button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <button (click)="addDeductionOrCreditRow(federalCredits)">Add Row</button>
                                </td>
                                <td></td>
                                <td></td>
                            </tr>
                        </table>
                    </tab>
                    <tab tabTitle="State">
                        <table class="table">
                            <tr>
                                <td colspan="3">Deductions:</td>
                            </tr>
                            <tr *ngFor="let row of stateDeductions" class="form-group">
                                <td>
                                    <input type="text" class="form-control" [(ngModel)]="row[0]" />
                                </td>
                                <td>
                                    <input type="text" (blur)="row.amount=$event.target.value" class="form-control" [(ngModel)]="row[1]" customCurrencyFormatter />
                                </td>
                                <td>
                                    <button (click)="deleteDeductionOrCreditRow(stateDeductions, row)">Delete Row</button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <button (click)="addDeductionOrCreditRow(stateDeductions)">Add Row</button>
                                </td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td colspan="3">Credits:</td>
                            </tr>
                            <tr *ngFor="let row of stateCredits" class="form-group">
                                <td>
                                    <input type="text" class="form-control" [(ngModel)]="row[0]" />
                                </td>
                                <td>
                                    <input type="text" (blur)="row.amount=$event.target.value" class="form-control" [(ngModel)]="row[1]" customCurrencyFormatter />
                                </td>
                                <td>
                                    <button (click)="deleteDeductionOrCreditRow(stateCredits, row)">Delete Row</button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <button (click)="addDeductionOrCreditRow(stateCredits)">Add Row</button>
                                </td>
                                <td></td>
                                <td></td>
                            </tr>
                        </table>
                    </tab>
                </tabs>
            </td>
        </tr>
        <tr>
            <td>Zipcode:</td>
            <td colspan="2">
                <input type="text" [(ngModel)]="zipcode" />
            </td>
        </tr>
        <tr>
            <td>Taxable Income:</td>
            <td colspan="2">{{taxableIncome | customCurrency}}</td>
        </tr>
        <tr>
            <td>Federal:</td>
            <td colspan="2">{{federalTax | customCurrency}}</td>
        </tr>
        <tr>
            <td>FICA:</td>
            <td colspan="2">
                <input type="number" [(ngModel)]="ficaTax" />
            </td>
        </tr>
        <tr>
            <td>State:</td>
            <td colspan="2">
                <input type="number" [(ngModel)]="stateTax" />
            </td>
        </tr>
        <tr>
            <td>Local:</td>
            <td colspan="2">
                <input type="number" [(ngModel)]="localTax" />
            </td>
        </tr>
        <tr>
            <td>Total:</td>
            <td colspan="2">
                <input type="number" [(ngModel)]="totalTax" />
            </td>
        </tr>

    </table>
</div>